<!--
/*
 * Copyright (c) 2012 Berner Fachhochschule, Switzerland.
 * Bern University of Applied Sciences, Engineering and Information Technology,
 * Research Institute for Security in the Information Society, E-Voting Group,
 * Biel, Switzerland.
 *
 * Project UniVote.
 *
 * Distributable under GPL license.
 * See terms of license at gnu.org.
 *
 * HTML structure of the GUI, voting interface
 * This file contain the upload key GUI, the voting GUI, and the confirmation GUI
 */
-->
<ui:composition template="template.xhtml"
				xmlns="http://www.w3.org/1999/xhtml"
				xmlns:f="http://java.sun.com/jsf/core"
				xmlns:h="http://java.sun.com/jsf/html"
				xmlns:ui="http://java.sun.com/jsf/facelets"
				xmlns:c="http://java.sun.com/jsp/jstl/core">

	<ui:define name="page_title">#{msg.title}</ui:define>

	<ui:define name="head_include_css">
		<link rel="stylesheet" type="text/css" href="stylesheets/jquery-ui/jquery-ui.min.css" />
	</ui:define>

	<ui:define name="head_include_js">
		<script type="text/javascript" src="js/lib/leemon.js"></script>
		<script type="text/javascript" src="js/lib/jquery-ui.min.js"></script>
		<script type="text/javascript" src="js/lib/jquery.qtip-1.0.0-rc3.min.js"></script>
		<script type="text/javascript" src="js/lib/qrcode.js"></script>
		<script type="text/javascript" src="js/lib/map.js"></script>
		<script type="text/javascript" src="js/lib/base64.js"></script>
		<script type="text/javascript" src="js/lib/sha256.js"></script>
		<script type="text/javascript" src="js/lib/aes.js"></script>
		<script type="text/javascript" src="js/lib/pbkdf2.js"></script>

		<script type="text/javascript" src="js/univote-random.js"></script>
		<script type="text/javascript" src="js/univote-util.js"></script>
		<script type="text/javascript" src="js/univote-crypto.js"></script>

		<script type="text/javascript" src="js/vote.js" />
		<script type="text/javascript" src="js/vote-jquery-ui.js" />
		<script type="text/javascript" src="js/vote-cast-ballot.js" />
	</ui:define>



	<ui:define name="content">

		<div class="row">
			<div class="small-12 columns">
				<h3 id="election-title" data-election-id="#{param.electionId}">&#160;</h3>
			</div>
			<div class="large-4 medium-4 columns">
				<button id="step_1" class="arrow_box grey active" tabindex="-1">#{msg.voteStep1}</button>
			</div>
			<div class="large-4 medium-4 columns">
				<button id="step_2" class="arrow_box grey" tabindex="-1">#{msg.voteStep2}</button>
			</div>
			<div class="large-4 medium-4 columns">
				<button id="step_3" class="arrow_box grey" tabindex="-1">#{msg.voteStep3}</button>
			</div>
		</div>

		<!-- STEP 1: Upload key -->
		<div id="step_1_content" class="row step">
			<div class="small-12 columns">
				<p>#{msg.enterKey1}</p>
			</div>
			<div class="large-4 medium-4 columns chooser">
				<p>#{msg.enterKey2}</p>
			</div>
			<div class="large-8 medium-8 columns chooser_content">
				<form onsubmit="return false;" id="upload_key_form">
					<p>#{msg.yourKey}</p>
					<textarea id="sk-upload" name="sk-upload" class="middle radius" placeholder="#{msg.yourKeyManually}"></textarea>
					<p>#{msg.yourPassword}</p>
					<input class="text radius" type="password" name="password" id="password" />
					<p>#{msg.noKey1} <h:outputLink value="index.xhtml">#{msg.noKey2}</h:outputLink> #{msg.noKey3}</p>
					<button onClick="return uploadSecretKey();" class="button gradient radius icon-right-dir">#{msg.continueStr}</button>
				</form>
				<p id="upload_key_error">&#160;</p>
			</div>
		</div>


		<!-- STEP 2: Vote -->
		<div id="step_2_content" class="step hidden">

			<div id="list_election_content">
				<div class="row">
					<div class="small-12 columns">
						<p id="list_vote_text"><h:outputText value="#{msg.voteText}" escape="false" /></p>
						<p id="list_vote_description"></p>
					</div>
				</div>

				<div id="container_elections" class="row">
					<div class="large-6 medium-6 columns">
						<h4>#{msg.candidates}</h4>
						<div id="candidates" class="clearfix">
							<ul id="list_labels"></ul>
							<div id="lists"></div>


							<!--

							<ul id="list_labels">
								<li class="button-like active"><a href="#">List 1</a></li>
								<li class="button-like"><a href="#">List 2</a></li>
								<li class="button-like"><a href="#">List 3</a></li>
							</ul>
							<div class="list prim-border">
								<h5>JG - Junge Gr√ºne Uni Bern</h5>
								<ul>
									<li class="button-like previous"><span>Marbach Julian<br/><i>(previous)</i></span></li>
									<li class="button-like previous"><span>Marbach Julian<br/><i>(previous)</i></span></li>
									<li class="button-like"><span>Marbach Julian</span></li>
									<li class="button-like"><span>Marbach Julian</span></li>
									<li class="button-like"><span>Marbach Julian</span></li>
									<li class="button-like"><span>Marbach Julian</span></li>
									<li class="button-like"><span>Marbach Julian</span></li>
									<li class="button-like"><span>Marbach Julian</span></li>
									<li class="button-like"><span>Marbach Julian</span></li>
									<li class="button-like"><span>Marbach Julian</span></li>
									<li class="button-like"><span>Marbach Julian</span></li>
									<li class="button-like"><span>Marbach Julian</span></li>
									<li class="button-like"><span>Marbach Julian</span></li>
								</ul>
							</div>

							-->

							<div class="list-footer"></div>
						</div>
					</div>

					<div class="large-6 medium-6 columns">
						<h4>Auswahl</h4>
						<div id="choice-holder">
							<div id="choice" class="prim-border">
								<ul id="choice-list"><li class="button-like placeholder-item"><span>#{msg.list}</span><div class="tools"><span class="icon-minus-circled"></span></div></li></ul>
								<h5 id="choice-list-title">&#160;</h5>
								<ul id="choice-candidates">
									<li class="button-like placeholder-item">#{msg.candidate}</li>
								</ul>
							</div>
							<div class="list-footer" ></div>
						</div>
						<form>
							<button id="submit_list_vote" class="button radius gradient icon-right-dir" onclick="return submitVote();">#{msg.submitvote}</button>
						</form>
					</div>
				</div>
			</div>
		</div>

		<!-- STEP 3: Confirmation -->
		<div id="step_3_content" class="hidden">
			<div id="send-vote-success">
				<p class="center"><img src="img/check_big.png" /></p>
				<p class="block">#{msg.sendVoteSuccess}</p>

				<p class="center" id="qrcode-holder"></p>
				<p class="block">#{msg.feedbackText}</p>
				<p class="block spacer0"><a href="https://docs.google.com/forms/d/1loD0DWA0FxQM8xnHyKJm1LiYc_fnEbGzZTZPHgaXsIY/viewform" target="_blank" class="raquo">#{msg.feedbackLink}</a></p>
			</div>

			<div id="send-vote-error" class="hidden">
				<p class="center"><img src="img/x_mark_red_big.png" /></p>
				<p class="block" id="send-vote-error-message"></p>
			</div>

			<p class="block spacer50"><h:outputLink value="index.xhtml" class="raquo">#{msg.backhome}</h:outputLink></p>
		</div>
	</ui:define>

</ui:composition>
