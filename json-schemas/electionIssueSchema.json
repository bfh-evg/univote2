{
	"$schema": "http://json-schema.org/draft-04/schema",
	"title": "UniVote2: Schema of an election issue",
	"type": "object",
	"properties": {
		"id": {
			"description": "Issue identifier (unique within election)",
			"type": "integer"
		},
		"type": {
			"description": "Issue type (e.g. candidate election, list election, vote)",
			"type": "string"
		},
		"title": {
			"description": "Issue title",
			"$ref": "i18nTextSchema.json"
		},
		"options": {
			"description": "Container of options",
			"type": "array",
			"items": { "$ref": "#/definitions/option" }
		},
		"rules": {
			"description": "Container of rules",
			"type": "array",
			"items": { "$ref": "#/definitions/rule" }
		}
	},
	"required": ["id", "type", "title", "options", "rules", "ballotEncoding"],

	"definitions": {
		"option": {
			"type": "object",
			"properties": {
				"id": {
					"description": "Option identifier (unique within issue)",
					"type": "integer"
				},
				"type": {
					"description": "Option type (e.g. candidate, party list, yes/no)",
					"type": "string"
				}
			},
			"required": ["id", "type"]
		},

		"rule": {
			"type": "object",
			"properties": {
				"id": {
					"description": "Rule identifier (unique within issue)",
					"type": "integer"
				},
				"type": {
					"description": "Rule type (e.g. summation, cumulation)",
					"type": "string"
				},
				"optionIds": {
					"description": "Identifiers of referenced options",
					"type": "array",
					"items": { "type": "integer" }
				}
			},
			"required": ["id", "type", "optionIds"]
		}
	}
}
